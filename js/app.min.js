'use strict';

// Declare core application module which pulls all the components together
angular.module('angularFoo', [
    'ngAnimate',
    'ngRoute',
    'ngSanitize',
    'ngTouch',
]);
'use strict';

angular.module('angularFoo')

.config(['$routeProvider', function ($routeProvider) {
    $routeProvider.when('/', {
        templateUrl: './templates/home.html',
        controller: 'HomeController'
    })
    .otherwise({ redirectTo: '/' });
}]);
'use strict';

angular.module('angularFoo')
        .controller('HomeController', ['$scope', '$timeout',
                                       function ($scope, $timeout) {

                                           var data_card0 = {title: 'foo', text: 'bar'};
                                           var data_card1 = {title: 'title1', text: 'text text text text text text text text text text'};
                                           var data_card2 = {title: 'title2', text: 'text text text text text text text text text text'};
                                           var data_card3 = {title: 'titletitle3', text: 'text'};
                                           var data_card4 = {title: 'titletitle4', text: 'text'};
                                           var data_card5 = {title: 'title5', text: 'text text text text text text'};
                                           var data_card6 = {title: 'title6', text: 'text text text text text text'};
                                           var data_card7 = {title: 'title7', text: 'text text text text text text'};
                                           var data_card8 = {title: 'title8 title8 title8', text: 'text text text text text test '};
                                           var data_card9 = {title: 'title9 title9 title9', text: 'text text text text text test '};

                                           var sample_data1 = [
                                               data_card0, data_card1, data_card2, data_card3, data_card4
                                           ];

                                           console.log('HomeController called');
                                           $scope.cards = {};
                                           $scope.cards.hand = sample_data1;
                                           $scope.cards.played = [];
                                           $scope.cards.deployed = [];

                                           $scope.clickPlay = function click(card) {
                                               console.log('play');
                                               console.log(card);
                                               var index = $scope.cards.hand.indexOf(card);
                                               if (index === -1) {
                                                   console.error('card not found');
                                               } else {
                                                   $scope.cards.hand[index] = {type: 'blank'};
                                                   // $timeout(function() { $scope.cards.played.push(card); }, 2000);
                                                   // $scope.cards.hand.splice(index, 1);
                                                   $scope.cards.played.push(card);
                                               }
                                           };

                                           $scope.clickDeploy = function click(card) {
                                               console.log('deploy');
                                               console.log(card);
                                               var index = $scope.cards.played.indexOf(card);
                                               if (index === -1) {
                                                   console.error('card not found');
                                               } else {
                                                   $scope.cards.played[index] = {type: 'blank'};
                                                   // $timeout(function() { $scope.cards.deployed.push(card); }, 2000);
                                                   // $scope.cards.played.splice(index, 1);
                                                   $scope.cards.deployed.push(card);
                                               }
                                           };

                                           $scope.clickExhaust = function click(card) {
                                               console.log('exhaust');
                                               console.log(card);
                                               card.type = 'exhausted';
                                           };
                                       }
        ]);
